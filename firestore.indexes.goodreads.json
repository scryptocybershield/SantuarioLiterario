{
  "indexes": [
    // ==================== ÍNDICES EXISTENTES (MANTENER) ====================
    {
      "collectionGroup": "readings",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "userId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "createdAt",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "username",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "posts",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "createdBy",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "createdAt",
          "order": "DESCENDING"
        }
      ]
    },

    // ==================== NUEVOS ÍNDICES PARA GOODREADS ====================

    // 1. ÍNDICES PARA COLECCIÓN `books`
    {
      "collectionGroup": "books",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "averageRating",
          "order": "DESCENDING"
        },
        {
          "fieldPath": "ratingsCount",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "books",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "trendingScore",
          "order": "DESCENDING"
        },
        {
          "fieldPath": "createdAt",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "books",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "categories",
          "arrayConfig": "CONTAINS"
        },
        {
          "fieldPath": "averageRating",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "books",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "authors",
          "arrayConfig": "CONTAINS"
        },
        {
          "fieldPath": "publishedDate",
          "order": "DESCENDING"
        }
      ]
    },

    // 2. ÍNDICES PARA COLECCIÓN `reviews`
    {
      "collectionGroup": "reviews",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "bookId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "createdAt",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "reviews",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "userId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "createdAt",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "reviews",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "rating",
          "order": "DESCENDING"
        },
        {
          "fieldPath": "likesCount",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "reviews",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "bookId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "rating",
          "order": "DESCENDING"
        }
      ]
    },

    // 3. ÍNDICES PARA COLECCIÓN `shelves`
    {
      "collectionGroup": "shelves",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "userId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "order",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "shelves",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "userId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "isDefault",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "shelves",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "bookIds",
          "arrayConfig": "CONTAINS"
        },
        {
          "fieldPath": "updatedAt",
          "order": "DESCENDING"
        }
      ]
    },

    // 4. ÍNDICES PARA COLECCIÓN `activity`
    {
      "collectionGroup": "activity",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "userId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "createdAt",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "activity",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "_feedScore",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "activity",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "type",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "createdAt",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "activity",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "targetType",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "targetId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "createdAt",
          "order": "DESCENDING"
        }
      ]
    },

    // 5. ÍNDICES PARA COLECCIÓN `friendships`
    {
      "collectionGroup": "friendships",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "followerId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "status",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "friendships",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "followingId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "status",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "friendships",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "followerId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "followingId",
          "order": "ASCENDING"
        }
      ]
    },

    // 6. ÍNDICES PARA COLECCIÓN `comments`
    {
      "collectionGroup": "comments",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "reviewId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "createdAt",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "comments",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "userId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "createdAt",
          "order": "DESCENDING"
        }
      ]
    },

    // 7. ÍNDICES PARA COLECCIÓN `notifications`
    {
      "collectionGroup": "notifications",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "userId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "createdAt",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "notifications",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "userId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "isRead",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "createdAt",
          "order": "DESCENDING"
        }
      ]
    },

    // 8. ÍNDICES PARA COLECCIÓN `reading_sessions`
    {
      "collectionGroup": "reading_sessions",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "userId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "createdAt",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "reading_sessions",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "bookId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "userId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "startedAt",
          "order": "DESCENDING"
        }
      ]
    },

    // ==================== ÍNDICES COMPUESTOS PARA QUERIES COMPLEJAS ====================

    // Para feed de actividad de usuarios seguidos
    {
      "collectionGroup": "activity",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "isPublic",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "_feedScore",
          "order": "DESCENDING"
        }
      ]
    },

    // Para búsqueda de libros por múltiples criterios
    {
      "collectionGroup": "books",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "language",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "averageRating",
          "order": "DESCENDING"
        },
        {
          "fieldPath": "ratingsCount",
          "order": "DESCENDING"
        }
      ]
    },

    // Para recomendaciones personalizadas
    {
      "collectionGroup": "books",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "categories",
          "arrayConfig": "CONTAINS"
        },
        {
          "fieldPath": "trendingScore",
          "order": "DESCENDING"
        },
        {
          "fieldPath": "averageRating",
          "order": "DESCENDING"
        }
      ]
    },

    // Para estadísticas de usuario
    {
      "collectionGroup": "reviews",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "userId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "rating",
          "order": "DESCENDING"
        },
        {
          "fieldPath": "createdAt",
          "order": "DESCENDING"
        }
      ]
    }
  ],
  "fieldOverrides": []
}